#!/bin/bash

# æµ‹è¯•è„šæœ¬
echo "ğŸ§ª å¼€å§‹è¿è¡Œæµ‹è¯•..."

# è¿è¡Œä»£ç æ£€æŸ¥
echo "ğŸ“ è¿è¡Œä»£ç æ£€æŸ¥..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ä»£ç æ£€æŸ¥å¤±è´¥"
  exit 1
fi

# è¿è¡Œæµ‹è¯•
echo "ğŸ” è¿è¡Œå•å…ƒæµ‹è¯•..."
npm run test:coverage
if [ $? -ne 0 ]; then
  echo "âŒ æµ‹è¯•å¤±è´¥"
  exit 1
fi

echo "âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼"
echo "ğŸ“Š æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šå·²ç”Ÿæˆåœ¨ coverage/ ç›®å½•"